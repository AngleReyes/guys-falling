scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile`, function (sprite, location) {
    ObsDelete += 1
})
scene.onOverlapTile(SpriteKind.Player, sprites.swamp.swampTile3, function (sprite, location) {
    game.splash("Game OVer")
})
function Map2 () {
	
}
scene.onOverlapTile(SpriteKind.Player, sprites.dungeon.hazardLava1, function (sprite, location) {
    tiles.placeOnTile(sprite, tiles.getTileLocation(randint(14, 22), randint(50, 55)))
})
function Map3 () {
	
}
function Map1 () {
    tiles.setCurrentTilemap(tilemap`level`)
    ObsDelete = 0
    Obstacles = sprites.create(img`
        ........................bbbbbbbbbbbbbbb.........................
        .....................bbb999999999999999bbb......................
        ..................bbb999999999999999999999bbb...................
        ................bb999999999999999999999999999bb.................
        ..............999999999999999999999999999999999b................
        ..............9999999999999999999999999999999999bb..............
        ............b9999999999999999999999999999999999999b.............
        ..........9b199999999999999999999999999999999999999b............
        .........9b99999999999999999999999999999999999999999b...........
        .........b9999999999999999999999999999999999999999999b..........
        ........b999999999999999999999999999999999999999999999b.........
        .......b99999999999999999999999999999999999999999999999b........
        .......9999999999999999999999999999999999999999999999999b.......
        ......b9999999999999999999999999999999999999999999999999b.......
        ....99999999999999999999999999999999999999999999999999999b......
        ....999999999999999999999999999999999111111111199999999999b.....
        ....955555999999999999999999999999999111111111199999999999b.....
        ...b5555559999999999999999999999999991111111111999999999999b....
        ...b5555559999999999999999999999999991111111111999999999999b....
        ...b5555559999999999999999999999999991111111111999999999999b....
        ..b555555599999999999999999999999999911111111119999999999999b...
        ..b555555599999999999999999999999999911111111119999999999999b...
        ..b555555599999999999999999999999999911111111119999999999999b...
        .b55555555999999999999999999999999999111111111111119999999999b..
        .b55555559999999999999999999999999999999999999911119999999999b..
        .b55555559999999999999999999999999999999999999911119999999999b..
        .b55555559999999999999999999999999999999999999911119999999999b..
        .b55555559999999999999999999999999999999999999999999999999999b..
        .b55555559999999999999999999999999999999999999999999999999999b..
        .b95555555999999999999999999999999999999999999999999999999999b..
        .b555555533d9999999999999999999999999999999999999999999999999b..
        .b55555553339999999999999999999999999999999999999999999999999b..
        .b55555553339999999999999999999999999999999999999999999999999b..
        .b5555555333b999999999999999999999999999999999999999999999999b..
        .b55555553333399999999999999999999999999999999999999999999999b..
        .b55555553333399999999999999999999999999999999999999999999999b..
        .b55555553333339999999999999999999999999999999999999999999999b..
        .b555555553333339999999999999999999999999999999999999ddddd999b..
        ..b55555553333333399999999999999999999999999999999995dddddd9b...
        ..b555555533333333333999999999999999999999999999955555555555b...
        ..b555555533333333333333999999999999999999999933333555555555b...
        ...b5555555333333333333333339999999999999933333333355555555b....
        ...b5555555333333333333333333333333333333333333333355555dd5b....
        ...b5555555333333333333333333333333333333333333333355555dd9b....
        ....b555555533333333333333333333333333333333333333355555ddb.....
        ....b555555533333333333333333333333333333333333333555555ddb.....
        .....b555555533333333333333333333333333333333333355555555b......
        ......b5555553333333333333333333333333333333333335555555b.......
        ......b5555555533333333333333333333333333333335555555555b.......
        .......b55555555333333333333333333333333333335555555555b........
        ........b555555553333333333333333333333333355555555555b.........
        .........b5555555553333333333333333333333555555555555b..........
        ..........b55555555553333333333333333355555555555555b...........
        ...........b555555555555533333333555555555555555555b............
        ............b5555555555555555555555555555555555555b.............
        .............bb555555555555555555555555555555555bb..............
        ...............b5555555555555555555555555555555b................
        ................bb555555555555555555555555555bb.................
        ..................bbb555555555555555555555bbb...................
        .....................bbb555555555555555bbb......................
        ........................bbbbbbbbbbbbbbb.........................
        ................................................................
        ................................................................
        ................................................................
        `, SpriteKind.Enemy)
    Obstacles.setVelocity(-350, 0)
    tiles.placeOnTile(Obstacles, tiles.getTileLocation(29, 28))
}
controller.player2.onEvent(ControllerEvent.Connected, function () {
	
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function (sprite, otherSprite) {
    sprite.y += 50
    sprite.x += randint(-50, 50)
})
let Obstacles: Sprite = null
let ObsDelete = 0
let EnemyImg = [
img`
    . . . . . . b b b b . . . . . . 
    . . . . . . b 4 4 4 b . . . . . 
    . . . . . . b b 4 4 4 b . . . . 
    . . . . . b 4 b b b 4 4 b . . . 
    . . . . b d 5 5 5 4 b 4 4 b . . 
    . . . . b 3 2 3 5 5 4 e 4 4 b . 
    . . . b d 2 2 2 5 7 5 4 e 4 4 e 
    . . . b 5 3 2 3 5 5 5 5 e e e e 
    . . b d 7 5 5 5 3 2 3 5 5 e e e 
    . . b 5 5 5 5 5 2 2 2 5 5 d e e 
    . b 3 2 3 5 7 5 3 2 3 5 d d e 4 
    . b 2 2 2 5 5 5 5 5 5 d d e 4 . 
    b d 3 2 d 5 5 5 d d d 4 4 . . . 
    b 5 5 5 5 d d 4 4 4 4 . . . . . 
    4 d d d 4 4 4 . . . . . . . . . 
    4 4 4 4 . . . . . . . . . . . . 
    `,
img`
    . . . . . . . e c 7 . . . . . . 
    . . . . e e e c 7 7 e e . . . . 
    . . c e e e e c 7 e 2 2 e e . . 
    . c e e e e e c 6 e e 2 2 2 e . 
    . c e e e 2 e c c 2 4 5 4 2 e . 
    c e e e 2 2 2 2 2 2 4 5 5 2 2 e 
    c e e 2 2 2 2 2 2 2 2 4 4 2 2 e 
    c e e 2 2 2 2 2 2 2 2 2 2 2 2 e 
    c e e 2 2 2 2 2 2 2 2 2 2 2 2 e 
    c e e 2 2 2 2 2 2 2 2 2 2 2 2 e 
    c e e 2 2 2 2 2 2 2 2 2 2 4 2 e 
    . e e e 2 2 2 2 2 2 2 2 2 4 e . 
    . 2 e e 2 2 2 2 2 2 2 2 4 2 e . 
    . . 2 e e 2 2 2 2 2 4 4 2 e . . 
    . . . 2 2 e e 4 4 4 2 e e . . . 
    . . . . . 2 2 e e e e . . . . . 
    `,
img`
    . . . . . 3 3 b 3 3 d d 3 3 . . 
    . . . . 3 1 1 d 3 d 1 1 1 1 3 . 
    . . . 3 d 1 1 1 d 1 1 1 d 3 1 3 
    . . 3 d d 1 1 1 d d 1 1 1 3 3 3 
    . 3 1 1 d 1 1 1 1 d d 1 1 b . . 
    . 3 1 1 1 d 1 1 1 1 1 d 1 1 3 . 
    . b d 1 1 1 d 1 1 1 1 1 1 1 3 . 
    . 4 b 1 1 1 1 d d 1 1 1 1 d 3 . 
    . 4 4 d 1 1 1 1 1 1 d d d b b . 
    . 4 d b d 1 1 1 1 1 1 1 1 3 . . 
    4 d d 5 b d 1 1 1 1 1 1 1 3 . . 
    4 5 d 5 5 b b d 1 1 1 1 d 3 . . 
    4 5 5 d 5 5 d b b b d d 3 . . . 
    4 5 5 5 d d d d 4 4 b 3 . . . . 
    . 4 5 5 5 4 4 4 . . . . . . . . 
    . . 4 4 4 . . . . . . . . . . . 
    `,
img`
    . . . . c c c b b b b b . . . . 
    . . c c b 4 4 4 4 4 4 b b b . . 
    . c c 4 4 4 4 4 5 4 4 4 4 b c . 
    . e 4 4 4 4 4 4 4 4 4 5 4 4 e . 
    e b 4 5 4 4 5 4 4 4 4 4 4 4 b c 
    e b 4 4 4 4 4 4 4 4 4 4 5 4 4 e 
    e b b 4 4 4 4 4 4 4 4 4 4 4 b e 
    . e b 4 4 4 4 4 5 4 4 4 4 b e . 
    8 7 e e b 4 4 4 4 4 4 b e e 6 8 
    8 7 2 e e e e e e e e e e 2 7 8 
    e 6 6 2 2 2 2 2 2 2 2 2 2 6 c e 
    e c 6 7 6 6 7 7 7 6 6 7 6 c c e 
    e b e 8 8 c c 8 8 c c c 8 e b e 
    e e b e c c e e e e e c e b e e 
    . e e b b 4 4 4 4 4 4 4 4 e e . 
    . . . c c c c c e e e e e . . . 
    `
]
let CAmSprite = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Projectile)
let p1 = sprites.create(img`
    . . . . . . f f f f . . . . . . 
    . . . . f f e e e e f f . . . . 
    . . . f e e e f f e e e f . . . 
    . . f f f f f 2 2 f f f f f . . 
    . . f f e 2 e 2 2 e 2 e f f . . 
    . . f e 2 f 2 f f 2 f 2 e f . . 
    . . f f f 2 2 e e 2 2 f f f . . 
    . f f e f 2 f e e f 2 f e f f . 
    . f e e f f e e e e f e e e f . 
    . . f e e e e e e e e e e f . . 
    . . . f e e e e e e e e f . . . 
    . . e 4 f f f f f f f f 4 e . . 
    . . 4 d f 2 2 2 2 2 2 f d 4 . . 
    . . 4 4 f 4 4 4 4 4 4 f 4 4 . . 
    . . . . . f f f f f f . . . . . 
    . . . . . f f . . f f . . . . . 
    `, SpriteKind.Player)
let p2 = sprites.create(img`
    . . . . . f f 4 4 f f . . . . . 
    . . . . f 5 4 5 5 4 5 f . . . . 
    . . . f e 3 3 3 3 3 3 e f . . . 
    . . f b 3 3 3 3 3 3 3 3 b f . . 
    . . f 3 3 3 3 3 3 3 3 3 3 f . . 
    . f 3 3 3 3 3 3 3 3 3 3 3 3 f . 
    . f b 3 3 3 3 3 3 3 3 3 3 b f . 
    . f b b 3 3 3 3 3 3 3 3 b b f . 
    . f b b b b b b b b b b b b f . 
    f c b b b b b b b b b b b b c f 
    f b b b b b b b b b b b b b b f 
    . f c c b b b b b b b b c c f . 
    . . e 4 c f f f f f f c 4 e . . 
    . . e f b d b d b d b b f e . . 
    . . . f f 1 d 1 d 1 d f f . . . 
    . . . . . f f b b f f . . . . . 
    `, SpriteKind.Player)
let p3 = sprites.create(img`
    . . . . f f f f . . . . . 
    . . f f c c c c f f . . . 
    . f f c c c c c c f f . . 
    f f c c c c c c c c f f . 
    f f c c f c c c c c c f . 
    f f f f f c c c f c c f . 
    f f f f c c c f c c f f . 
    f f f f f f f f f f f f . 
    f f f f f f f f f f f f . 
    . f f f f f f f f f f . . 
    . f f f f f f f f f f . . 
    f e f f f f f f f f e f . 
    e 4 f 7 7 7 7 7 7 c 4 e . 
    e e f 6 6 6 6 6 6 f e e . 
    . . . f f f f f f . . . . 
    . . . f f . . f f . . . . 
    `, SpriteKind.Player)
let p4 = sprites.create(img`
    . . . . f f f f . . . . 
    . . f f e e e e f f . . 
    . f e e e e e e e f f . 
    f f e f e e e e e e f f 
    f f f e e e e e e e e f 
    f f f e e e e e e f e f 
    f f f f e e e e f f f f 
    f f f f f f f f f f f f 
    f f f f f f f f f f f f 
    . f f f f f f f f f f . 
    . e f f f f f f f f e . 
    e 4 f b b b b b b f 4 e 
    4 d f d d d d d d c d 4 
    4 4 f 6 6 6 6 6 6 f 4 4 
    . . . f f f f f f . . . 
    . . . f f . . f f . . . 
    `, SpriteKind.Player)
controller.player1.moveSprite(p1)
controller.player2.moveSprite(p2)
controller.player3.moveSprite(p3)
controller.player4.moveSprite(p4)
scene.cameraFollowSprite(CAmSprite)
tiles.placeOnTile(p1, tiles.getTileLocation(randint(14, 22), randint(50, 55)))
Map1()
game.onUpdate(function () {
    if (Obstacles.isHittingTile(CollisionDirection.Left)) {
        Obstacles.vx += 350
    } else if (Obstacles.isHittingTile(CollisionDirection.Right)) {
        Obstacles.vx += -350
    }
})
game.onUpdate(function () {
    if (ObsDelete > 120) {
        sprites.destroyAllSpritesOfKind(SpriteKind.Enemy)
    }
})
game.onUpdate(function () {
    CAmSprite.setPosition((p1.x + (p2.x + (p3.x + p4.x))) / 4, (p1.y + (p2.y + (p3.y + p4.y))) / 4)
})
